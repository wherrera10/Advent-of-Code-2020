const _npartitions = Dict{Int,Int}()

function npartitions(n::Int)
    n < 0 && return 0
    n < 2 && return 1
    (np = get(_npartitions, n, 0)) > 0 && return np
    np, sgn = 0, 1
    for k in 1:n
        np += sgn * (npartitions(n - (k*(3k-1)) >> 1) + npartitions(n - (k*(3k+1)) >> 1
        sgn = -sgn
    end
    _npartitions[n] = np
    return np
end

npartitions(10)
@time println(npartitions(6666))

