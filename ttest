const queries = ["Printer is unrecognised", 
                 "A red light is flashing", 
                 "Printer does not print"]

const answers = Dict(0b00100000 => 'Check the power cable',
                     0b10100000 => 'Check the printer-computer cable',
                     0b10101010 => 'Ensure printer software is installed',
                     0b11001100 => 'Check/replace ink',
                     0b01010000 => 'Check for paper jam')

const default = "Let me call you back after I research this."

function ynprompt(prompt)
    while true
        print(prompt, "?: ")
        ans = uppercase(trim(readline()))[1]
        if ans == 'Y' || ans == 'N'
            return ans
        end
    end
end

function decide(queries, answers, default)
    our(@q,%a);
    bit = 0
    cnt = 1
    for prompt in queries
        ans = ynprompt(prompt)
        if ans == 'Y'
            bit += cnt
        end
        cnt *= 2
    end
    bit = 2^bit
 
    while (bitpat, diagnosis) in answers
        if bit & bitpat
            println(diagnosis) 
        end
    end
end

