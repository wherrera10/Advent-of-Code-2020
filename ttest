using Combinatorics

function pseqs(minlen, maxlen, n)
    return Dict(len => filter(x -> length(x) == n && all(i -> minlen <= i <= maxlen, x),
        integer_partitions(len)) for len in n*minlen:n*maxlen)
end

function splitword(word, seq)
    substrings, i = [], 1
    for j in pseq
        push!(substrings, word[i, j])
        i = j + 1
    end
    return substrings
end

minsumlen, maxsumlen = n * minlen, n * maxlen
for word in wordlist
    len = length(word)
    minsumlen <= len <= maxsumlen || continue
    for seq in pseqs[len]
        substrings = splitword(word, seq)
        all(x -> x in set, substrings) && println(substrings, " => ", word)
    end
end

    
        
